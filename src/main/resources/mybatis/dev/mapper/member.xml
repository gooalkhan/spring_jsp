<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.spring_jsp.member.MemberMapper">
    <select id="getAll" resultType="com.example.spring_jsp.member.MemberDTO">
        select * from membertbl;
    </select>

    <update id="save">
        insert into membertbl (ID, PW, EMAIL, NAME)
        values (#{id}, #{pw}, #{email}, #{name});
    </update>

    <update id="createTable">
        create table MEMBERTBL
        (
            ID             CHARACTER VARYING(20)            not null
                constraint MEMBERTBL_PK
                    unique,
            PW             CHARACTER VARYING(100)           not null,
            EMAIL          CHARACTER VARYING(100),
            HASEMAILAUTHED BOOLEAN   default 0              not null,
            NAME           CHARACTER VARYING(30)            not null,
            JOINDATE       TIMESTAMP default CURRENT_TIMESTAMP not null,
            MODIFYDATE     TIMESTAMP default CURRENT_TIMESTAMP not null,
            constraint MEMBERTBL_PK2
                primary key (ID)
        );
    </update>

    <update id="dropTable">
        drop table if exists MEMBERTBL;
    </update>
</mapper>